/* =========================
   âœ… UI ìŠ¤ì¼€ì¼: ëª¨ë‹ˆí„° í¬ê¸°ì— ë”°ë¼ ë¹„ìœ¨ë§Œ ë³€í™”
   - 1440x900(ë§¥ë¶) ê¸°ì¤€ìœ¼ë¡œ ì¡ê³ 
   - ë„ˆë¬´ ì‘ì•„ì§€ê±°ë‚˜ ì»¤ì§€ì§€ ì•Šê²Œ clamp
========================= */
:root{
  --ui-scale: clamp(0.90, min(100vw / 1440, 100vh / 900), 1.25);
  --bg: #e5e3e3;
  --fg: #231d1a;
}

/* âœ… í•µì‹¬: ì „ì²´ UIëŠ” rem ê¸°ë°˜ì´ë¯€ë¡œ
   html í°íŠ¸ í¬ê¸°ë§Œ ìŠ¤ì¼€ì¼í•˜ë©´
   "í¬ê¸°ëŠ” ìœ ì§€ + ë¹„ìœ¨ë§Œ" ìë™ìœ¼ë¡œ ë³€í•¨ */
html{
  font-size: calc(16px * var(--ui-scale));
}

*{ box-sizing:border-box; }

html, body{
  margin:0;
  width:100%;
  height:100%;
  overflow:hidden;
  font-family:"Apple SD Gothic Neo","Noto Sans KR",sans-serif;
  background:var(--bg);
  color:var(--fg);
}

/* =========================
   âœ… ê´‘ì¥
========================= */
.stage{
  position:fixed;
  inset:0;
  background:var(--bg);
  z-index:0;
}
#canvas{
  position:absolute;
  inset:0;
  z-index:0;
}

/* =========================
   âœ… íŒ¨ë„(ì˜µì…˜)
   (ê¸°ì¡´ 320px, 20px ìœ„ì¹˜ë¥¼ remìœ¼ë¡œ ìœ ì§€)
========================= */
.panel{
  position:fixed;
  left:1.25rem;  /* 20px */
  top:1.25rem;
  z-index:10;
  width:20rem;   /* 320px */
  background:var(--bg);
  border:0.125rem solid var(--fg); /* 2px */
  box-shadow:0 0.625rem 1.875rem rgba(0,0,0,0.08);
  padding:0.75rem; /* 12px */
}

.panel h1{
  font-size:1rem; /* 16px */
  margin:0 0 0.625rem 0;
}

.desc{
  font-size:0.875rem; /* 14px */
  line-height:1.4;
  border:0.125rem solid var(--fg);
  padding:0.625rem;
  background:var(--bg);
  margin-bottom:0.75rem;
  color:var(--fg);
  font-weight:600;
}

/* ë“œë¡­ë‹¤ìš´ ë²„íŠ¼ */
.dropdown-btn{
  width:100%;
  padding:0.75rem;
  background:var(--fg);
  border:0.125rem solid var(--fg);
  font-weight:900;
  cursor:pointer;
  margin-bottom:1rem;
  color:var(--bg);
}

/* ë“œë¡­ë‹¤ìš´ ë°”ë”” */
.panel-body{ display:none; }
.panel.open .panel-body{ display:block; }

.group{ margin-bottom:0.625rem; }
.group-title{
  font-weight:700;
  font-size:0.875rem; /* 14px */
  margin:0 0 0.375rem 0;
}

/* ì˜µì…˜ ë¦¬ìŠ¤íŠ¸ */
.options{
  display:flex;
  gap:0.5rem; /* 8px */
  overflow-x:auto;
  padding-bottom:0.375rem;

  /* âœ… "ì´ë™ë°”(ìŠ¤í¬ë¡¤ë°”)" ìˆ¨ê¸°ê¸° */
  scrollbar-width:none;           /* Firefox */
  -ms-overflow-style:none;        /* IE/Edge */
}
.options::-webkit-scrollbar{      /* Chrome/Safari */
  height:0;
  display:none;
}

/* ì˜µì…˜ ë²„íŠ¼ */
.option{
  width:2.125rem;  /* 34px */
  height:2.875rem; /* 46px */
  border:none;
  background:var(--bg);
  padding:0;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  flex:0 0 auto;

  /* âœ… ì„ íƒ í…Œë‘ë¦¬(inside) ì˜ë¦¼ ë°©ì§€ */
  border-radius:0.25rem;
}

.option img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
  pointer-events:none;
}

/* âœ… border ì“°ë©´ ì•ˆìª½ì´ ì¤„ì–´ë“œë‹ˆê¹Œ
   inset shadowë¡œ â€œì•ˆìª½ í…Œë‘ë¦¬â€ë¥¼ ì¤˜ì„œ í¬ê¸° ë³€í™” ì—†ì´ í‘œì‹œ */
.option.selected{
  box-shadow: inset 0 0 0 0.125rem var(--fg); /* 2px */
}

/* ì…ë ¥ */
label{
  font-size:0.9375rem; /* 15px */
  font-weight:700;
  margin-top:0.625rem;
  display:block;
}

input, textarea{
  width:100%;
  border:0.125rem solid var(--fg);
  padding:0.375rem;
  margin-top:0.25rem;
  font-size:0.75rem; /* 12px */
  outline:none;
  background:var(--bg);
}

textarea{
  height:5.625rem; /* 90px */
  resize:none;
}

/* ì „ì†¡ ë²„íŠ¼ */
.send-btn{
  width:100%;
  margin-top:0.625rem;
  padding:0.875rem 0.75rem;
  background:var(--fg);
  color:var(--bg);
  border:0.125rem solid var(--fg);
  cursor:pointer;
  font-size:1rem;
  font-weight:700;
}

/* =========================
   âœ… í”„ë¦¬ë·° íŒ¨ë„ (ê¸°ì¡´ í¬ê¸° ìœ ì§€)
========================= */
.preview-panel{
  position:fixed;
  left: calc(1.25rem + 20rem + 0.75rem); /* 20px + 320px + 12px */
  top:1.25rem;
  z-index:10;
  width:10rem; /* 160px */
  background:var(--bg);
  border:0.125rem solid var(--fg);
  box-shadow:0 0.625rem 1.875rem rgba(0,0,0,0.08);
  padding:0.75rem;
}

.preview-box{
  width:100%;
  height:16.25rem; /* âœ… 260px (ì‘ì•„ì§€ì§€ ì•Šê²Œ ì›ë³µ) */
  background:var(--bg);
  position:relative;
  overflow:hidden;
}

/* í”„ë¦¬ë·° ì—ì…‹ í¬ê¸° */
:root{ --preview-size: 4.875rem; } /* 78px */

.preview-box .layer{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  width:var(--preview-size);
  height:auto;
  display:none;
}

.preview-box .layer.flower{ top:-0.625rem; } /* -10px */
.preview-box .layer.stem{   top:4.0625rem; } /* 65px */
.preview-box .layer.pot{    top:9.375rem; }  /* 150px */

/* =========================
   âœ… íˆ´íŒ
========================= */
.tooltip{
  position:absolute;
  background:var(--bg);
  border:0.125rem solid var(--fg);
  color:var(--fg);
  padding:0.5rem 0.625rem;
  line-height:1.25;
  display:none;
  pointer-events:none;
  min-width:7.5rem;  /* 120px */
  max-width:13.75rem;/* 220px */
  z-index:20;
}
.tooltip .msg{
  font-weight:700;
  font-size:0.75rem; /* 12px */
  margin-bottom:0.25rem;
}
.tooltip .from{
  font-weight:700;
  font-size:0.625rem; /* 10px */
  opacity:0.85;
}

/* =========================
   âœ… ëª¨ë‹¬
========================= */
.modal{
  position:fixed;
  inset:0;
  z-index:999;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(229,227,227,0.80);
  backdrop-filter: blur(2px);
}
.modal.show{ display:flex; }

.modal-card{
  width:17.5rem; /* 280px */
  background:var(--bg);
  border:0.125rem solid var(--fg);
  box-shadow:0 0.625rem 1.875rem rgba(0,0,0,0.08);
  padding:0.875rem;
}
.modal-msg{
  font-size:0.875rem; /* 14px */
  line-height:1.4;
  font-weight:700;
  background:var(--bg);
  padding:0.625rem;
}
.modal-btn{
  width:100%;
  margin-top:0.625rem;
  padding:0.75rem;
  background:var(--bg);
  border:0.125rem solid var(--fg);
  font-weight:800;
  cursor:pointer;
  font-size:0.8125rem; /* 13px */
}

/* âœ… ë ˆì´ì–´ */
#canvas{ z-index:0; }
.panel, .preview-panel, .modal{ z-index:10; }

/* âœ… ê¸°ë³¸ì€ í”„ë¦¬ë·° ìˆ¨ê¹€ */
.preview-panel { display:none; }

/* âœ… ì˜µì…˜ì°½ ì—´ë ¸ì„ ë•Œë§Œ í”„ë¦¬ë·° ë³´ì´ê¸° */
.panel.open + .preview-panel { display:block; }

/* ğŸ”¥ ì‚¬ì´íŠ¸ ì „ì²´ ê¸°ë³¸ ì»¤ì„œ ìˆ¨ê¹€ */
body {
  cursor: none;
}
